<md-card ng-controller="puzzlesCtrl" ng-show="hasPuzzles">
  <md-toolbar class="md-accent" layout-padding>
    <h3>Puzzles</h3>
  </md-toolbar>
  <md-card-content layout-padding>
    <md-list>
      <md-list-item layou="row" layout-padding>
	<div flex="25">Puzzle</div>
	<div flex="20">Answer</div>
	<div flex="10">Paper</div>
	<div flex="20">Team</div>
	<div flex></div>
	<md-divider></md-divider>
      </md-list-item>
      <md-list-item ng-repeat="p in puzzles.Puzzles">
	<form name="form" layout="row" layout-padding flex>
	  <div flex="5">{{p.Number}}</div>
	  <div flex="20">
	    <span ng-show="!puzzles.Editable">
	      {{p.Name}}
	    </span>
	    <span ng-show="puzzles.Editable">
	      <md-input-container md-no-float>
		<input ng-model="p.Name" name="newName">
	      </md-input-container>
	    </span>
	  </div>
	  <div flex="20">
	    <span ng-show="!puzzles.Editable">
	      {{p.Answer}}
	    </span>
	    <span ng-show="puzzles.Editable">
	      <md-input-container md-no-float>
		<input ng-model="p.Answer" name="newAnswer">
	      </md-input-container>
	    </span>
	  </div>
	  <div flex="10">{{p.Paper}}</div>
	  <div flex="20">{{p.TeamName}}</div>
	  <md-button ng-show="puzzles.Editable" ng-disabled="form.newName.$pristine && form.newAnswer.$pristine" class="md-primary md-raised" ng-click="updatePuzzle(p.ID, p.Name, p.Answer)">Update</md-button>
	  <div flex></div>
	  <md-divider ng-if="!$last"></md-divider>
	</form>
      </md-list-item>
    </md-list>
  </md-card-content>
</md-card>
